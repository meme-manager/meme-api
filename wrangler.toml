name = "meme-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Workers 配置
workers_dev = true

# 环境变量
[vars]
ENVIRONMENT = "production"

# D1 数据库绑定
# 一键部署时，Cloudflare 会自动创建数据库并替换下面的 database_id
[[d1_databases]]
binding = "DB"
database_name = "meme-db"
database_id = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
migrations_dir = "migrations"

# R2 存储绑定
# 一键部署时，Cloudflare 会自动创建存储桶
[[r2_buckets]]
binding = "R2"
bucket_name = "meme-storage"
